---

---

<header class='mb-12 flex w-full flex-wrap pb-3 text-sm sm:flex-nowrap sm:justify-start'>
	<nav
		class='relative mx-auto flex w-full items-center justify-between sm:flex sm:items-center'
		aria-label='global'
	>
		<a class='flex-none text-xl font-semibold' href='/' aria-label='Brand'>resume</a>

		<div class='flex flex-row items-center justify-center gap-x-5 sm:gap-x-7'>
			<a
				href='/blog'
				class='flex-none text-[1.05rem] font-medium hover:text-foreground/75'
				aria-label='Nav Menu Item'
				>Blog
			</a>
			<a
				href='/tools'
				class='flex-none text-[1.05rem] font-medium hover:text-foreground/75'
				aria-label='Nav Menu Item'
				>Tools
			</a>

			<button
				id='toggleDarkMode'
				class='relative rounded-md border border-border p-1.5 transition-all hover:bg-border'
			>
				<span class='sr-only'>Toggle Theme</span>
				<!-- Sun icon for light mode -->
				<svg
					id='theme-icon-light'
					xmlns='http://www.w3.org/2000/svg'
					width='24'
					height='24'
					viewBox='0 0 24 24'
					fill='none'
					stroke='currentColor'
					stroke-width='2'
					stroke-linecap='round'
					stroke-linejoin='round'
					class='h-[1.2rem] w-[1.2rem]'
				>
					<circle cx='12' cy='12' r='4'></circle>
					<path d='M12 2v2'></path>
					<path d='M12 20v2'></path>
					<path d='m4.93 4.93 1.41 1.41'></path>
					<path d='m17.66 17.66 1.41 1.41'></path>
					<path d='M2 12h2'></path>
					<path d='M20 12h2'></path>
					<path d='m6.34 17.66-1.41 1.41'></path>
					<path d='m19.07 4.93-1.41 1.41'></path>
				</svg>
				<!-- Moon icon for dark mode -->
				<svg
					id='theme-icon-dark'
					xmlns='http://www.w3.org/2000/svg'
					width='24'
					height='24'
					viewBox='0 0 24 24'
					fill='none'
					stroke='currentColor'
					stroke-width='2'
					stroke-linecap='round'
					stroke-linejoin='round'
					class='hidden h-[1.2rem] w-[1.2rem]'
				>
					<path d='M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z'></path>
				</svg>
				<!-- Monitor icon for system mode -->
				<svg
					id='theme-icon-system'
					xmlns='http://www.w3.org/2000/svg'
					width='24'
					height='24'
					viewBox='0 0 24 24'
					fill='none'
					stroke='currentColor'
					stroke-width='2'
					stroke-linecap='round'
					stroke-linejoin='round'
					class='hidden h-[1.2rem] w-[1.2rem]'
				>
					<rect width='20' height='14' x='2' y='3' rx='2'></rect>
					<line x1='8' x2='16' y1='21' y2='21'></line>
					<line x1='12' x2='12' y1='17' y2='21'></line>
				</svg>
			</button>
		</div>
	</nav>
</header>

<script>
	function getCurrentTheme() {
		return localStorage.getItem('theme') || 'system'
	}

	function updateThemeIcons() {
		const currentTheme = getCurrentTheme()
		const lightIcon = document.getElementById('theme-icon-light')
		const darkIcon = document.getElementById('theme-icon-dark')
		const systemIcon = document.getElementById('theme-icon-system')

		// Hide all icons first
		lightIcon?.classList.add('hidden')
		darkIcon?.classList.add('hidden')
		systemIcon?.classList.add('hidden')

		// Show the appropriate icon
		if (currentTheme === 'light') {
			lightIcon?.classList.remove('hidden')
		} else if (currentTheme === 'dark') {
			darkIcon?.classList.remove('hidden')
		} else {
			systemIcon?.classList.remove('hidden')
		}
	}

	// Initial icon update
	updateThemeIcons()

	const toggleDarkModeButton = document.getElementById('toggleDarkMode')

	toggleDarkModeButton?.addEventListener('click', () => {
		const currentTheme = getCurrentTheme()
		let newTheme = 'light'

		// Cycle through: light -> dark -> system -> light
		if (currentTheme === 'light') {
			newTheme = 'dark'
		} else if (currentTheme === 'dark') {
			newTheme = 'system'
		} else {
			newTheme = 'light'
		}

		const toggleDarkModeEvent = new CustomEvent('theme-change', {
			detail: { theme: newTheme }
		})
		document.dispatchEvent(toggleDarkModeEvent)
		updateThemeIcons()
	})

	// Update icons after astro page transitions
	document.addEventListener('astro:after-swap', updateThemeIcons)
</script>
